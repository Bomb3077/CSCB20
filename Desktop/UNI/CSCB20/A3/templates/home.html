{% extends "navigation.html" %}
{% block title%}
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style-home.css')}}">
{% endblock %}

{% block content %}

<!-- splash -->
<div class="splash">
  <p>
    Welcome to 
    <br>
    <span class="name">Talkie-Talkie</span>
  </p>
</div>

<div class="main">
  <!-- account system box -->
  <div class="box" style="{{ account_system }}">
    <!-- log in -->
    <div id="login_container">
      <form class="form" id="login_form" action="/" method="POST" >
        <h2 class="form_title">Sign Into My Account</h2>
        <label for="login_username">Username</label>
        <br>
        <input type="text" class="form_input" name="login_username" id="login_username" placeholder="Username" required>
        <br>
        <label for="login_password">Password</label>
        <br>
        <input type="password" class="form_input" name="login_password" id="login_password" placeholder="Password" required>
        <br>
        <input type="submit" class="submit_button" value="SIGN IN" onclicke="check_rememberme()">
        <br>
        <label><input type="checkbox" checked="checked" name="remember_me" id="remember_me" value="True">Remember me</label>
      </form>
    </div>
  
    <!-- sign up -->
    <div id="signup_container">
        <form class="form" id="signup_form" action="/" method="POST">
          <h2 class="form_title">Create an Account</h2>
          <label for="signup_username">Username</label>
          <br>
          <input type="text" class="form_input" name="signup_username" id="signup_username" placeholder="Username" required>
          <br>
          <label for="signup_password">Password</label>
          <br>
          <input type="password" class="form_input" name="signup_password" id="signup_password" placeholder="Password" required>
          <br>
          <label for="signup_confirm_password">Confirm Password</label>
          <br>
          <input type="password" class="form_input" name="signup_confirm_password" id="signup_confirm_password" placeholder="Confirm Password" required>
          <br>
          <input type="submit" class="submit_button" value="SIGN UP">
        </form>
    </div>

    <!-- toggle to display log in or sign up box -->
    <div class="box" id="switch_container">
      <div>
        <div class="switch_1" id="switch_1">
          <h3 class="switch_title">Welcome Back!</h3>
          <p class="switch_word">Don't have an account yet?</p>
          <button onclick="swi_sign_up()" class="switch_button" id="switchbtn1">SIGN UP</button>
        </div>
        
        <div class="switch_2" id="switch_2">
          <h3 class="switch_title">Join Us!</h3>
          <p class="switch_word">Have an account already?</p>
          <button onclick="swi_sign_in()" class="switch_button" id="switchbtn2">SIGN IN</button>
        </div>
  
        <!-- receive flashed messages from the user's session -->
        {% with messages = get_flashed_messages() %}
          <!-- if there are messages -->
          {% if messages %}
            <ul class="flashes">
            <!-- loop through all messages -->
            {% for message in messages %}
              <!-- show the message -->
              <div class="msg"> {{ message }} </div>
            {% endfor %}
            </ul>
          {% endif %}
        {% endwith %}
      </div>
    </div>
  </div>
  
  <!-- welcome box -->
  <div class="box" style="{{ welcome_box }}">
    <div>
      <h2>Hello {{ session.user }}!</h2>
      <p>
        It's great to see you here!
        <br>
        Check out My Page for updates.
      </p>
    </div>
    <button onclick="window.location.href='{{ url_for("user", username=session["user"]) }}';">MY PAGE</button>
  </div>

</div>

<script src="{{ url_for('static', filename='js/homepage.js') }}"></script>
{% endblock %}
